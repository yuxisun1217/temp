05/19/2020 08:56:35 : [INFO ] ==> Run test setup script if defined.
05/19/2020 08:56:35 : [DEBUG] Set $fdisk > fdisk for REDHAT
05/19/2020 08:56:35 : [INFO ] ==> Check the target machine kernel log.
05/19/2020 08:56:35 : [INFO ] Collecting LISAv2-OneVM-walaautodev-OM75-20200519015242-role-0 VM Kernel Initial Logs ...
05/19/2020 08:56:35 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-05-19-01-51-43-7929/KDUMP-CRASH-DIFFERENT-VCPU/runtest.sh to Unix format...
05/19/2020 08:56:35 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\runtest.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 08:56:41 : [DEBUG] Upload successful after 1 attempt
05/19/2020 08:56:41 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.177.121.168 "echo ****** | sudo -S dmesg > ./InitialBootLogs.txt"
05/19/2020 08:56:45 : [DEBUG] dmesg > ./InitialBootLogs.txt executed successfully in 4.43 seconds.
05/19/2020 08:56:45 : [DEBUG] Downloading ./InitialBootLogs.txt from azureuser @ 52.177.121.168 : 22 to E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\LISAv2-OneVM-walaautodev-OM75-20200519015242-role-0 using password authentication
05/19/2020 08:56:53 : [DEBUG] Download command returned exit code 0
05/19/2020 08:56:53 : [DEBUG] Download successful after 1 attempt
05/19/2020 08:56:53 : [INFO ] LISAv2-OneVM-walaautodev-OM75-20200519015242-role-0: Initial kernel log, InitialBootLogs.txt, collected successfully.
05/19/2020 08:56:53 : [INFO ] Checking for call traces in kernel logs..
05/19/2020 08:56:53 : [INFO ] No kernel call traces found in the kernel log
05/19/2020 08:56:53 : [INFO ] ==> Upload test files to target machine LISAv2-OneVM-walaautodev-OM75-20200519015242-role-0 if any.
05/19/2020 08:56:53 : [DEBUG] dos2unix: converting file ./Testscripts/Linux/KDUMP-Execute.sh to Unix format...
05/19/2020 08:56:53 : [DEBUG] dos2unix: converting file ./Testscripts/Linux/KDUMP-Config.sh to Unix format...
05/19/2020 08:56:53 : [DEBUG] dos2unix: converting file ./Testscripts/Linux/KDUMP-Results.sh to Unix format...
05/19/2020 08:56:53 : [DEBUG] dos2unix: converting file ./Testscripts/Linux/utils.sh to Unix format...
05/19/2020 08:56:53 : [DEBUG] Compressing .\Testscripts\Linux\KDUMP-Execute.sh and adding to 52-177-121-168@22.tar
05/19/2020 08:56:53 : [DEBUG] Compressing .\Testscripts\Linux\KDUMP-Config.sh and adding to 52-177-121-168@22.tar
05/19/2020 08:56:53 : [DEBUG] Compressing .\Testscripts\Linux\KDUMP-Results.sh and adding to 52-177-121-168@22.tar
05/19/2020 08:56:53 : [DEBUG] Compressing .\Testscripts\Linux\utils.sh and adding to 52-177-121-168@22.tar
05/19/2020 08:56:53 : [DEBUG] Uploading 52-177-121-168@22.tar to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 08:57:01 : [DEBUG] Upload successful after 1 attempt
05/19/2020 08:57:01 : [DEBUG] Removing compressed file : 52-177-121-168@22.tar
05/19/2020 08:57:01 : [DEBUG] Decompressing files in VM ...
05/19/2020 08:57:01 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-05-19-01-51-43-7929/KDUMP-CRASH-DIFFERENT-VCPU/runtest.sh to Unix format...
05/19/2020 08:57:01 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\runtest.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 08:57:07 : [DEBUG] Upload successful after 1 attempt
05/19/2020 08:57:07 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.177.121.168 "echo ****** | sudo -S tar -xf 52-177-121-168@22.tar"
05/19/2020 08:57:12 : [DEBUG] tar -xf 52-177-121-168@22.tar executed successfully in 4.57 seconds.
05/19/2020 08:57:12 : [INFO ] ==> Run test script on the target machine.
05/19/2020 08:57:12 : [DEBUG] vmCpuNumber=4 added to constants.sh file
05/19/2020 08:57:12 : [DEBUG] kexecVersion=2.0.18 added to constants.sh file
05/19/2020 08:57:12 : [DEBUG] vmMemory=2GB added to constants.sh file
05/19/2020 08:57:12 : [DEBUG] crashkernel=512M added to constants.sh file
05/19/2020 08:57:12 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/constants.sh to Unix format...
05/19/2020 08:57:12 : [DEBUG] Uploading E:\yuxisun\LISAv2\constants.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 08:57:18 : [DEBUG] Upload successful after 1 attempt
05/19/2020 08:57:18 : [INFO ] Constants file uploaded to: LISAv2-OneVM-walaautodev-OM75-20200519015242-role-0
05/19/2020 08:57:18 : [INFO ] Test script: KDUMP-TestScript.ps1 started.
05/19/2020 08:57:18 : [INFO ] E:\yuxisun\LISAv2\Testscripts\Windows\KDUMP-TestScript.ps1 -TestParams ;vmCpuNumber=4;kexecVersion=2.0.18;vmMemory=2GB;crashkernel=512M -AllVmData @{ServiceName=; ResourceGroupName=LISAv2-OneVM-walaautodev-OM75-20200519015242; Location=eastus2; RoleName=LISAv2-OneVM-walaautodev-OM75-20200519015242-role-0; PublicIP=52.177.121.168; PublicIPv6=; InternalIP=10.0.0.4; SecondInternalIP=; URL=ica12211v4.eastus2.cloudapp.azure.com; URLv6=; Status=Succeeded; InstanceSize=Standard_DS3_v2; VMGeneration=1; SSHPort=22} -TestProvider AzureProvider -CurrentTestData System.Xml.XmlElement
05/19/2020 08:57:18 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-05-19-01-51-43-7929/KDUMP-CRASH-DIFFERENT-VCPU/runtest.sh to Unix format...
05/19/2020 08:57:18 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\runtest.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 08:57:24 : [DEBUG] Upload successful after 1 attempt
05/19/2020 08:57:24 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.177.121.168 "echo ****** | sudo -S export HOME=`pwd`;chmod u+x KDUMP-Config.sh && ./KDUMP-Config.sh"
05/19/2020 08:57:29 : [DEBUG] export HOME=`pwd`;chmod u+x KDUMP-Config.sh && ./KDUMP-Config.sh executed successfully in 4.64 seconds.
05/19/2020 08:57:29 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-05-19-01-51-43-7929/KDUMP-CRASH-DIFFERENT-VCPU/runtest.sh to Unix format...
05/19/2020 08:57:29 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\runtest.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 08:57:35 : [DEBUG] Upload successful after 1 attempt
05/19/2020 08:57:35 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.177.121.168 "echo ****** | sudo -S cat state.txt"
05/19/2020 08:57:40 : [DEBUG] cat state.txt executed successfully in 4.42 seconds.
05/19/2020 08:57:40 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-05-19-01-51-43-7929/KDUMP-CRASH-DIFFERENT-VCPU/runtest.sh to Unix format...
05/19/2020 08:57:40 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\runtest.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 08:57:46 : [DEBUG] Upload successful after 1 attempt
05/19/2020 08:57:46 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.177.121.168 "echo ****** | sudo -S sync; reboot"
05/19/2020 08:57:53 : [DEBUG] sync; reboot is running in background with ID 442 ...
05/19/2020 08:57:53 : [INFO ] Rebooting VM LISAv2-OneVM-walaautodev-OM75-20200519015242-role-0 after kdump configuration...
05/19/2020 08:58:18 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-05-19-01-51-43-7929/KDUMP-CRASH-DIFFERENT-VCPU/runtest.sh to Unix format...
05/19/2020 08:58:18 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\runtest.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 08:58:27 : [DEBUG] Upload successful after 1 attempt
05/19/2020 08:58:27 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.177.121.168 "echo ****** | sudo -S export HOME=`pwd`;chmod u+x KDUMP-Execute.sh && ./KDUMP-Execute.sh"
05/19/2020 08:59:32 : [DEBUG] export HOME=`pwd`;chmod u+x KDUMP-Execute.sh && ./KDUMP-Execute.sh executed successfully in 64.54 seconds.
05/19/2020 08:59:32 : [INFO ] Executed KDUMP-Execute.sh in the VM
05/19/2020 08:59:32 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-05-19-01-51-43-7929/KDUMP-CRASH-DIFFERENT-VCPU/runtest.sh to Unix format...
05/19/2020 08:59:32 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\runtest.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 08:59:38 : [DEBUG] Upload successful after 1 attempt
05/19/2020 08:59:38 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.177.121.168 "echo ****** | sudo -S cat state.txt"
05/19/2020 08:59:43 : [DEBUG] cat state.txt executed successfully in 4.32 seconds.
05/19/2020 08:59:43 : [INFO ] Trigger the kernel panic...
05/19/2020 08:59:43 : [INFO ] NMI does not support, so it triggers different method
05/19/2020 08:59:43 : [INFO ] Kdump will be triggered on VCPU 3 of 4
05/19/2020 08:59:43 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-05-19-01-51-43-7929/KDUMP-CRASH-DIFFERENT-VCPU/runtest.sh to Unix format...
05/19/2020 08:59:43 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\runtest.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 08:59:49 : [DEBUG] Upload successful after 1 attempt
05/19/2020 08:59:49 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.177.121.168 "echo ****** | sudo -S taskset -c 2 echo c > /proc/sysrq-trigger"
05/19/2020 08:59:55 : [DEBUG] taskset -c 2 echo c > /proc/sysrq-trigger is running in background with ID 454 ...
05/19/2020 08:59:55 : [INFO ] Waiting 60 seconds to record the event...
05/19/2020 09:02:11 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-05-19-01-51-43-7929/KDUMP-CRASH-DIFFERENT-VCPU/runtest.sh to Unix format...
05/19/2020 09:02:11 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\runtest.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 09:02:18 : [DEBUG] Upload successful after 1 attempt
05/19/2020 09:02:18 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.177.121.168 "echo ****** | sudo -S export HOME=`pwd`;chmod u+x KDUMP-Results.sh && ./KDUMP-Results.sh "
05/19/2020 09:02:23 : [DEBUG] export HOME=`pwd`;chmod u+x KDUMP-Results.sh && ./KDUMP-Results.sh  executed successfully in 5.29 seconds.
05/19/2020 09:02:24 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-05-19-01-51-43-7929/KDUMP-CRASH-DIFFERENT-VCPU/runtest.sh to Unix format...
05/19/2020 09:02:24 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\runtest.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 09:02:30 : [DEBUG] Upload successful after 1 attempt
05/19/2020 09:02:30 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.177.121.168 "echo ****** | sudo -S cat summary.log"
05/19/2020 09:02:34 : [DEBUG] cat summary.log executed successfully in 4.44 seconds.
05/19/2020 09:02:34 : [DEBUG] Result of executing KDUMP-Results.sh - Test Successful. Proper file was found..
05/19/2020 09:02:34 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-05-19-01-51-43-7929/KDUMP-CRASH-DIFFERENT-VCPU/runtest.sh to Unix format...
05/19/2020 09:02:34 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\runtest.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 09:02:41 : [DEBUG] Upload successful after 1 attempt
05/19/2020 09:02:41 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.177.121.168 "echo ****** | sudo -S cat state.txt"
05/19/2020 09:02:45 : [DEBUG] cat state.txt executed successfully in 4.33 seconds.
05/19/2020 09:02:45 : [INFO ] ==> Upload test results to database.
05/19/2020 09:02:45 : [INFO ] ==> Check if the test target machines are still running.
05/19/2020 09:02:45 : [INFO ] Trying to connect to deployed VMs.
05/19/2020 09:02:45 : [INFO ] Connecting to 52.177.121.168 : 22 succeeded.
05/19/2020 09:02:45 : [INFO ] The SSH ports for all VMs are open.
05/19/2020 09:02:45 : [INFO ] Collecting LISAv2-OneVM-walaautodev-OM75-20200519015242-role-0 VM Kernel Final Logs ...
05/19/2020 09:02:45 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-05-19-01-51-43-7929/KDUMP-CRASH-DIFFERENT-VCPU/runtest.sh to Unix format...
05/19/2020 09:02:45 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\runtest.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 09:02:52 : [DEBUG] Upload successful after 1 attempt
05/19/2020 09:02:52 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.177.121.168 "echo ****** | sudo -S dmesg > ./FinalBootLogs.txt"
05/19/2020 09:02:56 : [DEBUG] dmesg > ./FinalBootLogs.txt executed successfully in 4.33 seconds.
05/19/2020 09:02:56 : [DEBUG] Downloading ./FinalBootLogs.txt from azureuser @ 52.177.121.168 : 22 to E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\LISAv2-OneVM-walaautodev-OM75-20200519015242-role-0 using password authentication
05/19/2020 09:03:03 : [DEBUG] Download command returned exit code 0
05/19/2020 09:03:03 : [DEBUG] Download successful after 1 attempt
05/19/2020 09:03:03 : [INFO ] LISAv2-OneVM-walaautodev-OM75-20200519015242-role-0: Final kernel log, FinalBootLogs.txt, collected successfully.
05/19/2020 09:03:03 : [INFO ] Checking for call traces in kernel logs..
05/19/2020 09:03:03 : [INFO ] No kernel call traces found in the kernel log
05/19/2020 09:03:05 : [WARN ] Following fail/error/warning messages were added in the logs during execution of test:
05/19/2020 09:03:05 : [WARN ] [    0.276011] acpi PNP0A03:00: fail to add MMCONFIG information, can't access extended PCI configuration space under this bridge.
05/19/2020 09:03:07 : [WARN ] [    1.521339] psmouse serio1: trackpoint: failed to get extended button data, assuming 3 buttons
05/19/2020 09:03:07 : [WARN ] [    2.863782] random: 7 urandom warning(s) missed due to ratelimiting
05/19/2020 09:03:08 : [WARN ] Found 3 fail/error/warning messages in the logs during execution.
05/19/2020 09:03:08 : [INFO ] LISAv2-OneVM-walaautodev-OM75-20200519015242-role-0: Final Kernel logs collected and compared successfully
05/19/2020 09:03:08 : [DEBUG] dos2unix: converting file ./Testscripts/Linux/CollectLogFile.sh to Unix format...
05/19/2020 09:03:08 : [DEBUG] Uploading .\Testscripts\Linux\CollectLogFile.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 09:03:14 : [DEBUG] Upload successful after 1 attempt
05/19/2020 09:03:14 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-05-19-01-51-43-7929/KDUMP-CRASH-DIFFERENT-VCPU/runtest.sh to Unix format...
05/19/2020 09:03:14 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU\runtest.sh to azureuser @ 52.177.121.168 : 22 using password authentication
05/19/2020 09:03:20 : [DEBUG] Upload successful after 1 attempt
05/19/2020 09:03:21 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.177.121.168 "echo ****** | sudo -S bash CollectLogFile.sh -hostname LISAv2-OneVM-walaautodev-OM75-20200519015242-role-0"
05/19/2020 09:03:25 : [DEBUG] bash CollectLogFile.sh -hostname LISAv2-OneVM-walaautodev-OM75-20200519015242-role-0 executed successfully in 4.51 seconds.
05/19/2020 09:03:25 : [DEBUG] Downloading LISAv2-OneVM-walaautodev-OM75-20200519015242-role-0-*.txt from azureuser @ 52.177.121.168 : 22 to E:\yuxisun\LISAv2\TestResults\2020-05-19-01-51-43-7929\KDUMP-CRASH-DIFFERENT-VCPU using password authentication
05/19/2020 09:03:40 : [DEBUG] Download command returned exit code 0
05/19/2020 09:03:40 : [DEBUG] Download successful after 1 attempt
05/19/2020 09:03:40 : [INFO ] ==> Run test cleanup script if defined.
05/19/2020 09:03:40 : [INFO ] Start to do cleanup for case KDUMP-CRASH-DIFFERENT-VCPU
05/19/2020 09:03:40 : [INFO ] Removing Background Job 442...
05/19/2020 09:03:40 : [INFO ] Removing Background Job 454...
05/19/2020 09:03:40 : [INFO ] End of testing: KDUMP-CRASH-DIFFERENT-VCPU , result: PASS
05/19/2020 09:03:40 : [INFO ] PASS    - 1
05/19/2020 09:03:40 : [INFO ] SKIPPED - 0
05/19/2020 09:03:40 : [INFO ] FAIL    - 0
05/19/2020 09:03:40 : [INFO ] ABORTED - 0
05/19/2020 09:03:40 : [INFO ] PENDING - 2 

