02/03/2020 13:44:59 : [INFO ] ==> Run test setup script if defined.
02/03/2020 13:44:59 : [DEBUG] Set $fdisk > fdisk for REDHAT
02/03/2020 13:44:59 : [INFO ] ==> Check the target machine kernel log.
02/03/2020 13:44:59 : [INFO ] Collecting LISAv2-OneVM-walatest-AO39-20200203052752-role-0 VM Kernel Initial Logs ...
02/03/2020 13:44:59 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-03-02-05-26-59-5514/STORAGE-HOT-ADD-DISK-SERIAL/runtest.sh to Unix format...
02/03/2020 13:44:59 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-03-02-05-26-59-5514\STORAGE-HOT-ADD-DISK-SERIAL\runtest.sh to azureuser @ 52.232.189.191 : 22 using password authentication
02/03/2020 13:45:06 : [DEBUG] Upload successful after 1 attempt
02/03/2020 13:45:06 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.232.189.191 "echo ****** | sudo -S dmesg > ./InitialBootLogs.txt"
02/03/2020 13:45:10 : [DEBUG] dmesg > ./InitialBootLogs.txt executed successfully in 4.38 seconds.
02/03/2020 13:45:10 : [DEBUG] Downloading ./InitialBootLogs.txt from azureuser @ 52.232.189.191 : 22 to E:\yuxisun\LISAv2\TestResults\2020-03-02-05-26-59-5514\STORAGE-HOT-ADD-DISK-SERIAL\LISAv2-OneVM-walatest-AO39-20200203052752-role-0 using password authentication
02/03/2020 13:45:17 : [DEBUG] Download command returned exit code 0
02/03/2020 13:45:17 : [DEBUG] Download successful after 1 attempt
02/03/2020 13:45:17 : [INFO ] LISAv2-OneVM-walatest-AO39-20200203052752-role-0: Initial kernel log, InitialBootLogs.txt, collected successfully.
02/03/2020 13:45:17 : [INFO ] Checking for call traces in kernel logs..
02/03/2020 13:45:17 : [ERROR] [    0.000000] Call Trace:
02/03/2020 13:45:17 : [INFO ] ==> Run test script on the target machine.
02/03/2020 13:45:17 : [DEBUG] DiskSize=30 added to constants.sh file
02/03/2020 13:45:17 : [DEBUG] DiskSku=Standard_LRS added to constants.sh file
02/03/2020 13:45:17 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/constants.sh to Unix format...
02/03/2020 13:45:17 : [DEBUG] Uploading E:\yuxisun\LISAv2\constants.sh to azureuser @ 52.232.189.191 : 22 using password authentication
02/03/2020 13:45:24 : [DEBUG] Upload successful after 1 attempt
02/03/2020 13:45:24 : [INFO ] Constants file uploaded to: LISAv2-OneVM-walatest-AO39-20200203052752-role-0
02/03/2020 13:45:24 : [INFO ] Test script: DiskHotAddRemove-Serial.ps1 started.
02/03/2020 13:45:24 : [INFO ] E:\yuxisun\LISAv2\Testscripts\Windows\DiskHotAddRemove-Serial.ps1 -TestParams ;DiskSize=30;DiskSku=Standard_LRS -AllVmData @{ServiceName=; ResourceGroupName=LISAv2-OneVM-walatest-AO39-20200203052752; Location=eastus2; RoleName=LISAv2-OneVM-walatest-AO39-20200203052752-role-0; PublicIP=52.232.189.191; PublicIPv6=; InternalIP=10.0.0.4; SecondInternalIP=; URL=ica91120v4.eastus2.cloudapp.azure.com; URLv6=; Status=Succeeded; InstanceSize=Standard_D1_v2; VMGeneration=1; SSHPort=22} -TestProvider AzureProvider -CurrentTestData System.Xml.XmlElement
02/03/2020 13:45:28 : [INFO ] Serial Addition and Removal of Data Disks
02/03/2020 13:46:19 : [INFO ] 1 - Successfully attached an empty data disk of size 30 GB to VM
02/03/2020 13:46:19 : [INFO ] Verifying if data disk is added to the VM: Running fdisk on remote VM
02/03/2020 13:46:19 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-03-02-05-26-59-5514/STORAGE-HOT-ADD-DISK-SERIAL/runtest.sh to Unix format...
02/03/2020 13:46:19 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-03-02-05-26-59-5514\STORAGE-HOT-ADD-DISK-SERIAL\runtest.sh to azureuser @ 52.232.189.191 : 22 using password authentication
02/03/2020 13:46:26 : [DEBUG] Upload successful after 1 attempt
02/03/2020 13:46:26 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.232.189.191 "echo ****** | sudo -S /sbin/fdisk -l | grep /dev/sd"
02/03/2020 13:46:30 : [DEBUG] /sbin/fdisk -l | grep /dev/sd executed successfully in 4.64 seconds.
02/03/2020 13:46:30 : [INFO ] 1 data disk is successfully attached to the VM: Disk /dev/sdc: 30 GiB, 32212254720 bytes, 62914560 sectors
02/03/2020 13:46:30 : [INFO ] Data disk added to the VM is successfully verified inside VM
02/03/2020 13:46:30 : [INFO ] Removing the Data Disks from the VM
02/03/2020 13:47:11 : [INFO ] Successfully removed the data disk from the VM
02/03/2020 13:47:11 : [INFO ] Verifying if data disk is removed from the VM: Running fdisk on remote VM
02/03/2020 13:47:11 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.232.189.191 "echo ****** | sudo -S /sbin/fdisk -l | grep /dev/sd"
02/03/2020 13:47:17 : [DEBUG] /sbin/fdisk -l | grep /dev/sd executed successfully in 6.09 seconds.
02/03/2020 13:47:17 : [INFO ] Successfully verified that data disk is removed from the VM
02/03/2020 13:48:05 : [INFO ] 2 - Successfully attached an empty data disk of size 30 GB to VM
02/03/2020 13:48:05 : [INFO ] Verifying if data disk is added to the VM: Running fdisk on remote VM
02/03/2020 13:48:05 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.232.189.191 "echo ****** | sudo -S /sbin/fdisk -l | grep /dev/sd"
02/03/2020 13:48:10 : [DEBUG] /sbin/fdisk -l | grep /dev/sd executed successfully in 5.06 seconds.
02/03/2020 13:48:10 : [INFO ] 1 data disk is successfully attached to the VM: Disk /dev/sdc: 30 GiB, 32212254720 bytes, 62914560 sectors
02/03/2020 13:48:10 : [INFO ] Data disk added to the VM is successfully verified inside VM
02/03/2020 13:48:10 : [INFO ] Removing the Data Disks from the VM
02/03/2020 13:48:48 : [INFO ] Successfully removed the data disk from the VM
02/03/2020 13:48:48 : [INFO ] Verifying if data disk is removed from the VM: Running fdisk on remote VM
02/03/2020 13:48:48 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.232.189.191 "echo ****** | sudo -S /sbin/fdisk -l | grep /dev/sd"
02/03/2020 13:48:53 : [DEBUG] /sbin/fdisk -l | grep /dev/sd executed successfully in 4.49 seconds.
02/03/2020 13:48:53 : [INFO ] Successfully verified that data disk is removed from the VM
02/03/2020 13:49:41 : [INFO ] 3 - Successfully attached an empty data disk of size 30 GB to VM
02/03/2020 13:49:41 : [INFO ] Verifying if data disk is added to the VM: Running fdisk on remote VM
02/03/2020 13:49:41 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.232.189.191 "echo ****** | sudo -S /sbin/fdisk -l | grep /dev/sd"
02/03/2020 13:49:45 : [DEBUG] /sbin/fdisk -l | grep /dev/sd executed successfully in 4.38 seconds.
02/03/2020 13:49:45 : [INFO ] 1 data disk is successfully attached to the VM: Disk /dev/sdc: 30 GiB, 32212254720 bytes, 62914560 sectors
02/03/2020 13:49:45 : [INFO ] Data disk added to the VM is successfully verified inside VM
02/03/2020 13:49:45 : [INFO ] Removing the Data Disks from the VM
02/03/2020 13:50:58 : [INFO ] Successfully removed the data disk from the VM
02/03/2020 13:50:58 : [INFO ] Verifying if data disk is removed from the VM: Running fdisk on remote VM
02/03/2020 13:50:58 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.232.189.191 "echo ****** | sudo -S /sbin/fdisk -l | grep /dev/sd"
02/03/2020 13:51:02 : [DEBUG] /sbin/fdisk -l | grep /dev/sd executed successfully in 4.51 seconds.
02/03/2020 13:51:02 : [INFO ] Successfully verified that data disk is removed from the VM
02/03/2020 13:51:55 : [INFO ] 4 - Successfully attached an empty data disk of size 30 GB to VM
02/03/2020 13:51:55 : [INFO ] Verifying if data disk is added to the VM: Running fdisk on remote VM
02/03/2020 13:51:55 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.232.189.191 "echo ****** | sudo -S /sbin/fdisk -l | grep /dev/sd"
02/03/2020 13:51:59 : [DEBUG] /sbin/fdisk -l | grep /dev/sd executed successfully in 4.51 seconds.
02/03/2020 13:51:59 : [INFO ] 1 data disk is successfully attached to the VM: Disk /dev/sdc: 30 GiB, 32212254720 bytes, 62914560 sectors
02/03/2020 13:51:59 : [INFO ] Data disk added to the VM is successfully verified inside VM
02/03/2020 13:51:59 : [INFO ] Removing the Data Disks from the VM
02/03/2020 13:53:40 : [INFO ] Successfully removed the data disk from the VM
02/03/2020 13:53:40 : [INFO ] Verifying if data disk is removed from the VM: Running fdisk on remote VM
02/03/2020 13:53:40 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.232.189.191 "echo ****** | sudo -S /sbin/fdisk -l | grep /dev/sd"
02/03/2020 13:53:57 : [DEBUG] /sbin/fdisk -l | grep /dev/sd executed successfully in 17.15 seconds.
02/03/2020 13:53:57 : [INFO ] Successfully verified that data disk is removed from the VM
02/03/2020 13:53:57 : [INFO ] Successfully added and removed 4 number of data disks
02/03/2020 13:53:57 : [INFO ] ==> Upload test results to database.
02/03/2020 13:53:57 : [INFO ] ==> Check if the test target machines are still running.
02/03/2020 13:53:57 : [INFO ] Trying to connect to deployed VMs.
02/03/2020 13:53:58 : [INFO ] Connecting to 52.232.189.191 : 22 succeeded.
02/03/2020 13:53:58 : [INFO ] The SSH ports for all VMs are open.
02/03/2020 13:53:58 : [INFO ] Collecting LISAv2-OneVM-walatest-AO39-20200203052752-role-0 VM Kernel Final Logs ...
02/03/2020 13:53:58 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-03-02-05-26-59-5514/STORAGE-HOT-ADD-DISK-SERIAL/runtest.sh to Unix format...
02/03/2020 13:53:58 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-03-02-05-26-59-5514\STORAGE-HOT-ADD-DISK-SERIAL\runtest.sh to azureuser @ 52.232.189.191 : 22 using password authentication
02/03/2020 13:54:04 : [DEBUG] Upload successful after 1 attempt
02/03/2020 13:54:04 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.232.189.191 "echo ****** | sudo -S dmesg > ./FinalBootLogs.txt"
02/03/2020 13:54:08 : [DEBUG] dmesg > ./FinalBootLogs.txt executed successfully in 4.14 seconds.
02/03/2020 13:54:08 : [DEBUG] Downloading ./FinalBootLogs.txt from azureuser @ 52.232.189.191 : 22 to E:\yuxisun\LISAv2\TestResults\2020-03-02-05-26-59-5514\STORAGE-HOT-ADD-DISK-SERIAL\LISAv2-OneVM-walatest-AO39-20200203052752-role-0 using password authentication
02/03/2020 13:54:16 : [DEBUG] Download command returned exit code 0
02/03/2020 13:54:16 : [DEBUG] Download successful after 1 attempt
02/03/2020 13:54:16 : [INFO ] LISAv2-OneVM-walatest-AO39-20200203052752-role-0: Final kernel log, FinalBootLogs.txt, collected successfully.
02/03/2020 13:54:16 : [INFO ] Checking for call traces in kernel logs..
02/03/2020 13:54:16 : [ERROR] [    0.000000] Call Trace:
02/03/2020 13:54:16 : [INFO ] LISAv2-OneVM-walatest-AO39-20200203052752-role-0: Final Kernel logs collected and compared successfully
02/03/2020 13:54:16 : [INFO ] Preserving the Resource Group(s) LISAv2-OneVM-walatest-AO39-20200203052752. Setting tags : calltrace = yes
02/03/2020 13:54:16 : [INFO ] Setting LISAv2-OneVM-walatest-AO39-20200203052752 tag : calltrace = yes
02/03/2020 13:54:23 : [DEBUG] dos2unix: converting file ./Testscripts/Linux/CollectLogFile.sh to Unix format...
02/03/2020 13:54:23 : [DEBUG] Uploading .\Testscripts\Linux\CollectLogFile.sh to azureuser @ 52.232.189.191 : 22 using password authentication
02/03/2020 13:54:30 : [DEBUG] Upload successful after 1 attempt
02/03/2020 13:54:30 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-03-02-05-26-59-5514/STORAGE-HOT-ADD-DISK-SERIAL/runtest.sh to Unix format...
02/03/2020 13:54:30 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-03-02-05-26-59-5514\STORAGE-HOT-ADD-DISK-SERIAL\runtest.sh to azureuser @ 52.232.189.191 : 22 using password authentication
02/03/2020 13:54:36 : [DEBUG] Upload successful after 1 attempt
02/03/2020 13:54:36 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.232.189.191 "echo ****** | sudo -S bash CollectLogFile.sh -hostname LISAv2-OneVM-walatest-AO39-20200203052752-role-0"
02/03/2020 13:54:40 : [DEBUG] bash CollectLogFile.sh -hostname LISAv2-OneVM-walatest-AO39-20200203052752-role-0 executed successfully in 4.13 seconds.
02/03/2020 13:54:40 : [DEBUG] Downloading LISAv2-OneVM-walatest-AO39-20200203052752-role-0-*.txt from azureuser @ 52.232.189.191 : 22 to E:\yuxisun\LISAv2\TestResults\2020-03-02-05-26-59-5514\STORAGE-HOT-ADD-DISK-SERIAL using password authentication
02/03/2020 13:54:56 : [DEBUG] Download command returned exit code 0
02/03/2020 13:54:56 : [DEBUG] Download successful after 1 attempt
02/03/2020 13:54:56 : [INFO ] ==> Run test cleanup script if defined.
02/03/2020 13:54:56 : [INFO ] Start to do cleanup for case STORAGE-HOT-ADD-DISK-SERIAL
02/03/2020 13:54:56 : [INFO ] Removing all files logs from IP : 52.232.189.191 PORT : 22
02/03/2020 13:54:56 : [DEBUG] dos2unix: converting file E:/yuxisun/LISAv2/TestResults/2020-03-02-05-26-59-5514/STORAGE-HOT-ADD-DISK-SERIAL/runtest.sh to Unix format...
02/03/2020 13:54:56 : [DEBUG] Uploading E:\yuxisun\LISAv2\TestResults\2020-03-02-05-26-59-5514\STORAGE-HOT-ADD-DISK-SERIAL\runtest.sh to azureuser @ 52.232.189.191 : 22 using password authentication
02/03/2020 13:55:02 : [DEBUG] Upload successful after 1 attempt
02/03/2020 13:55:02 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.232.189.191 "echo ****** | sudo -S rm -rf *"
02/03/2020 13:55:06 : [DEBUG] rm -rf * executed successfully in 4.2 seconds.
02/03/2020 13:55:06 : [INFO ] All files removed from current user azureuser home folder successfully. VM IP : 52.232.189.191 PORT : 22
02/03/2020 13:55:06 : [INFO ] CURRENT - PASS    - 1
02/03/2020 13:55:06 : [INFO ] CURRENT - SKIPPED - 0
02/03/2020 13:55:06 : [INFO ] CURRENT - FAIL    - 0
02/03/2020 13:55:06 : [INFO ] CURRENT - ABORTED - 0
