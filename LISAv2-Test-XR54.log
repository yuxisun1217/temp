02/08/2020 06:52:33 : [INFO ] Import test parameters from provided XML file .\TestParameters.xml ...
02/08/2020 06:52:33 : [INFO ] Setting parameter: TestPlatform = Azure
02/08/2020 06:52:33 : [INFO ] Setting parameter: TestLocation = eastus2
02/08/2020 06:52:33 : [INFO ] Setting parameter: RGIdentifier = walaautol2181
02/08/2020 06:52:33 : [INFO ] Setting parameter: StorageAccount = walaautol2
02/08/2020 06:52:33 : [INFO ] Setting parameter: OsVHD = https://walaautol2.blob.core.windows.net/vhds/RHEL-7.8-20200208.n.0.vhd
02/08/2020 06:52:33 : [INFO ] Setting parameter: TestCategory = Functional
02/08/2020 06:52:33 : [INFO ] Setting parameter: TestNames = STORAGE-HOT-ADD-DISK-PARALLEL
02/08/2020 06:52:34 : [INFO ] Setting parameter: CustomTestParameters = DATA_DISK_SKU=Standard_LRS
02/08/2020 06:52:34 : [INFO ] Setting parameter: OverrideVMSize = Standard_A5
02/08/2020 06:52:34 : [INFO ] Setting parameter: ResourceCleanup = Delete
02/08/2020 06:52:34 : [INFO ] Setting parameter: ExitWithZero = $true
02/08/2020 06:52:34 : [INFO ] Setting parameter: ParametersFile = .\TestParameters.xml
02/08/2020 06:52:34 : [INFO ] Setting parameter: TestIterations = 1
02/08/2020 06:52:34 : [INFO ] Setting parameter: XMLSecretFile = .\secret.xml
02/08/2020 06:52:34 : [INFO ] Test parameters for Azure have been validated successfully. Continue running the test.
02/08/2020 06:52:34 : [INFO ] Refreshed Blob Storage Location information, https://yujiangsriovdisks.blob.core.windows.net/yujiang
02/08/2020 06:52:34 : [INFO ] Updated Test Case xml files.
02/08/2020 06:52:34 : [INFO ] Updated E:\LISAv2\XR54\XML\RegionAndStorageAccounts.xml from secrets file.
02/08/2020 06:52:35 : [INFO ] Using provided secrets file: .\secret.xml
02/08/2020 06:52:35 : [INFO ] .\secret.xml found.
02/08/2020 06:52:35 : [INFO ] ------------------------------------------------------------------
02/08/2020 06:52:35 : [WARN ] No Azure authentication methods were available in Secret File.
02/08/2020 06:52:35 : [WARN ] No Azure authentication context files detected in E:\LISAv2\XR54.
02/08/2020 06:52:35 : [INFO ] Checking if Current Azure powershell session is authenticated...
02/08/2020 06:52:47 : [INFO ] Current Azure powershell session is authenticated by yujiang@redhat.com.
02/08/2020 06:52:51 : [INFO ] Current Subscription : 27523af7-xxxx-xxxx-xxxx-070881f968e8.
02/08/2020 06:52:51 : [INFO ] ------------------------------------------------------------------
02/08/2020 06:52:56 : [INFO ] Selecting custom storage account : walaautol2 as per your test region.
02/08/2020 06:52:56 : [INFO ] ------------------------------------------------------------------
02/08/2020 06:53:00 : [INFO ] SubscriptionName       : BorisB-External-Partner
02/08/2020 06:53:00 : [INFO ] SubscriptionId         : 27523af7-xxxx-xxxx-xxxx-070881f968e8
02/08/2020 06:53:00 : [INFO ] User                   : yujiang@redhat.com
02/08/2020 06:53:00 : [INFO ] ServiceEndpoint        : https://management.core.windows.net/
02/08/2020 06:53:00 : [INFO ] CurrentStorageAccount  : walaautol2
02/08/2020 06:53:00 : [INFO ] ------------------------------------------------------------------
02/08/2020 06:53:00 : [INFO ] Setting global variables
02/08/2020 06:53:00 : [INFO ] Validating XML Files from E:\LISAv2\XR54 folder recursively...
02/08/2020 06:53:00 : [INFO ] Collected test: STORAGE-HOT-ADD-DISK-PARALLEL from E:\LISAv2\XR54\XML\TestCases\FunctionalTests-Storage.xml
02/08/2020 06:53:01 : [INFO ] 1 Test Cases have been collected
02/08/2020 06:53:01 : [INFO ] DATA_DISK_SKU=Premium_LRS injected to case STORAGE-HOT-ADD-DISK-PARALLEL
02/08/2020 06:53:01 : [INFO ] The OverrideVMSize of case STORAGE-HOT-ADD-DISK-PARALLEL is set to Standard_A5
02/08/2020 06:53:01 : [INFO ] Prepare test image if required ...
02/08/2020 06:53:07 : [INFO ] New Base VHD name - https://walaautol2.blob.core.windows.net/vhds/RHEL-7.8-20200208.n.0.vhd
02/08/2020 06:53:07 : [INFO ] Prepare test log structure and start testing now ...
02/08/2020 06:53:07 : [INFO ] STORAGE-HOT-ADD-DISK-PARALLEL started running ...
02/08/2020 06:53:07 : [INFO ] Deploy target machine for test if required ...
02/08/2020 06:53:07 : [INFO ] Current test setup: OneVM
02/08/2020 06:53:07 : [INFO ] Checking the subscription usage...
02/08/2020 06:53:07 : [INFO ] Getting Azure 'ComputeSKU' details...
02/08/2020 06:53:34 : [INFO ] Estimating VM #1 usage.
02/08/2020 06:53:36 : [INFO ]   Current Regional Cores usage : 353 cores. Requested:2. Estimated usage=355. Max Allowed cores:2340/2340
02/08/2020 06:53:36 : [INFO ]   Current standardA0_A7Family usage : 0 cores. Requested:2. Estimated usage=2. Max Allowed cores:100/100
02/08/2020 06:53:39 : [INFO ] Current 'Resource Group' usage:145. Requested:1. Estimated usage:146. Maximum allowed:980/980.
02/08/2020 06:53:40 : [INFO ] Current 'Storage Account' usage:9. Requested:0. Estimated usage:9. Maximum allowed:250/250.
02/08/2020 06:53:46 : [INFO ] Current 'Public IP' usage:20. Requested:1. Estimated usage:21. Maximum allowed:1000/1000.
02/08/2020 06:53:46 : [INFO ] Current 'Virtual Network' usage:19. Requested:1. Estimated usage:20. Maximum allowed:1000/1000.
02/08/2020 06:53:46 : [INFO ] Current 'Network Security Group' usage:13. Requested:1. Estimated usage:14. Maximum allowed:5000/5000.
02/08/2020 06:53:46 : [INFO ] Current 'Load Balancer' usage:4. Requested:1. Estimated usage:5. Maximum allowed:1000/1000.
02/08/2020 06:53:46 : [INFO ] Estimated subscription usage is under allowed limits.
02/08/2020 06:53:46 : [INFO ] Creating Resource Group : LISAv2-OneVM-walaautol2181-XR54-20200207225346.
02/08/2020 06:53:46 : [INFO ] Verifying that Resource group name is not in use.
02/08/2020 06:53:46 : [INFO ] Try to delete resource group LISAv2-OneVM-walaautol2181-XR54-20200207225346...
02/08/2020 06:53:46 : [INFO ] Checking if LISAv2-OneVM-walaautol2181-XR54-20200207225346 exists...
02/08/2020 06:53:47 : [INFO ] LISAv2-OneVM-walaautol2181-XR54-20200207225346 does not exists.
02/08/2020 06:53:47 : [INFO ] Using location : eastus2
02/08/2020 06:53:52 : [INFO ] Resource Group LISAv2-OneVM-walaautol2181-XR54-20200207225346 created.
02/08/2020 06:53:52 : [INFO ] Setting LISAv2-OneVM-walaautol2181-XR54-20200207225346 tag : BuildUser = yuxisun
02/08/2020 06:53:59 : [INFO ] Setting LISAv2-OneVM-walaautol2181-XR54-20200207225346 tag : BuildURL = https://xen-jenkins.rhev-ci-vms.eng.rdu2.redhat.com/job/Azure-compose-pipeline-lisav2-nightly/181/
02/08/2020 06:54:06 : [INFO ] Setting LISAv2-OneVM-walaautol2181-XR54-20200207225346 tag : TestName = STORAGE-HOT-ADD-DISK-PARALLEL
02/08/2020 06:54:10 : [INFO ] Setting LISAv2-OneVM-walaautol2181-XR54-20200207225346 tag : BuildMachine = HYPERV\YUXISUN-WIN10
02/08/2020 06:54:16 : [INFO ] Setting LISAv2-OneVM-walaautol2181-XR54-20200207225346 tag : CreationTime = 2020/02/08 06:54:16
02/08/2020 06:54:22 : [INFO ] test platform is : Azure
02/08/2020 06:54:22 : [INFO ] [Attempt 1/999] : Getting Existing Storage account information...
02/08/2020 06:54:24 : [INFO ] Generating Template : C:\Users\yuxisun\AppData\Local\Temp\LISAv2-OneVM-walaautol2181-XR54-20200207225346.json
02/08/2020 06:54:24 : [INFO ] Using API VERSION : 2018-04-01
02/08/2020 06:54:25 : [INFO ] Added Variables..
02/08/2020 06:54:25 : [INFO ] Added availabilitySet AvailabilitySet..
02/08/2020 06:54:25 : [INFO ] Added Public IP Address PublicIPv4-33284..
02/08/2020 06:54:26 : [INFO ] Added Custom image 'LISAv2-OneVM-walaautol2181-XR54-20200207225346-Image' from 'RHEL-7.8-20200208.n.0.vhd'..
02/08/2020 06:54:26 : [INFO ] Added Default Subnet to VirtualNetwork..
02/08/2020 06:54:26 : [INFO ] Added Virtual Network VirtualNetwork..
02/08/2020 06:54:26 : [INFO ] Adding Load Balancer ...
02/08/2020 06:54:26 : [INFO ] Added inboundNatRule Name:LISAv2-OneVM-walaautol2181-XR54-20200207225346-role-0-SSH frontendPort:22 backendPort:22 Protocol:tcp.
02/08/2020 06:54:26 : [INFO ] Added Load Balancer.
02/08/2020 06:54:26 : [INFO ] Adding Network Interface Card PrimaryNIC-LISAv2-OneVM-walaautol2181-XR54-20200207225346-role-0
02/08/2020 06:54:27 : [INFO ] Enabled inboundNatRule Name:LISAv2-OneVM-walaautol2181-XR54-20200207225346-role-0-SSH frontendPort:22 backendPort:22 Protocol:tcp to PrimaryNIC-LISAv2-OneVM-walaautol2181-XR54-20200207225346-role-0.
02/08/2020 06:54:27 : [INFO ] Added NIC PrimaryNIC-LISAv2-OneVM-walaautol2181-XR54-20200207225346-role-0..
02/08/2020 06:54:27 : [INFO ] Adding Virtual Machine LISAv2-OneVM-walaautol2181-XR54-20200207225346-role-0
02/08/2020 06:54:27 : [INFO ] >>> Using VHD : RHEL-7.8-20200208.n.0.vhd (Converted to Managed Image)
02/08/2020 06:54:27 : [INFO ] Added Managed-Persistent OS disk : LISAv2-OneVM-walaautol2181-XR54-20200207225346-role-0-OSDisk
02/08/2020 06:54:27 : [INFO ] Added Virtual Machine LISAv2-OneVM-walaautol2181-XR54-20200207225346-role-0
02/08/2020 06:54:28 : [INFO ] Template generated successfully.
02/08/2020 06:54:28 : [INFO ] Testing Deployment using C:\Users\yuxisun\AppData\Local\Temp\LISAv2-OneVM-walaautol2181-XR54-20200207225346.json ...
02/08/2020 06:54:32 : [INFO ] Creating Deployment using C:\Users\yuxisun\AppData\Local\Temp\LISAv2-OneVM-walaautol2181-XR54-20200207225346.json ...
02/08/2020 07:01:51 : [INFO ] Resource Group Deployment created.
02/08/2020 07:01:51 : [INFO ] Collecting LISAv2-OneVM-walaautol2181-XR54-20200207225346 data..
02/08/2020 07:01:51 : [INFO ] 	Microsoft.Network/publicIPAddresses data collection in progress..
02/08/2020 07:01:52 : [INFO ] 	Microsoft.Compute/virtualMachines data collection in progress..
02/08/2020 07:01:53 : [INFO ] 	Microsoft.Network/networkInterfaces data collection in progress..
02/08/2020 07:01:55 : [INFO ] 	Microsoft.Network/loadBalancers data collection in progress..
02/08/2020 07:02:04 : [INFO ] Collected LISAv2-OneVM-walaautol2181-XR54-20200207225346 data!
02/08/2020 07:02:04 : [INFO ] Trying to connect to deployed VMs.
02/08/2020 07:02:04 : [INFO ] Connecting to 52.167.42.172 : 22 succeeded.
02/08/2020 07:02:04 : [INFO ] The SSH ports for all VMs are open.
02/08/2020 07:02:04 : [INFO ] Skipping boot data telemetry collection.
02/08/2020 07:02:04 : [INFO ] Check if execution folder /home/azureuser exists or not, if not, create one.
02/08/2020 07:02:12 : [DEBUG] Execution folder /home/azureuser exists.
02/08/2020 07:02:12 : [DEBUG] dos2unix: converting file E:/LISAv2/XR54/TestResults/2020-07-02-22-52-33-7908/runtest.sh to Unix format...
02/08/2020 07:02:12 : [DEBUG] Uploading E:\LISAv2\XR54\TestResults\2020-07-02-22-52-33-7908\runtest.sh to azureuser @ 52.167.42.172 : 22 using password authentication
02/08/2020 07:02:25 : [DEBUG] Upload successful after 1 attempt
02/08/2020 07:02:25 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.167.42.172 "uname -r"
02/08/2020 07:02:30 : [DEBUG] uname -r executed successfully in 5.25 seconds.
02/08/2020 07:02:30 : [INFO ] Initial Kernel Version: 3.10.0-1126.el7.x86_64
02/08/2020 07:02:31 : [DEBUG] dos2unix: converting file ./Testscripts/Linux/DetectLinuxDistro.sh to Unix format...
02/08/2020 07:02:31 : [DEBUG] Uploading .\Testscripts\Linux\DetectLinuxDistro.sh to azureuser @ 52.167.42.172 : 22 using password authentication
02/08/2020 07:02:38 : [DEBUG] Upload successful after 1 attempt
02/08/2020 07:02:38 : [DEBUG] dos2unix: converting file E:/LISAv2/XR54/TestResults/2020-07-02-22-52-33-7908/runtest.sh to Unix format...
02/08/2020 07:02:38 : [DEBUG] Uploading E:\LISAv2\XR54\TestResults\2020-07-02-22-52-33-7908\runtest.sh to azureuser @ 52.167.42.172 : 22 using password authentication
02/08/2020 07:02:50 : [DEBUG] Upload successful after 1 attempt
02/08/2020 07:02:50 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.167.42.172 "echo ****** | sudo -S chmod +x *.sh"
02/08/2020 07:02:56 : [DEBUG] chmod +x *.sh executed successfully in 5.5 seconds.
02/08/2020 07:02:56 : [DEBUG] dos2unix: converting file E:/LISAv2/XR54/TestResults/2020-07-02-22-52-33-7908/runtest.sh to Unix format...
02/08/2020 07:02:56 : [DEBUG] Uploading E:\LISAv2\XR54\TestResults\2020-07-02-22-52-33-7908\runtest.sh to azureuser @ 52.167.42.172 : 22 using password authentication
02/08/2020 07:03:08 : [DEBUG] Upload successful after 1 attempt
02/08/2020 07:03:08 : [DEBUG] .\Tools\plink.exe -ssh -t -pw ****** -P 22 azureuser@52.167.42.172 "echo ****** | sudo -S bash ./DetectLinuxDistro.sh"
02/08/2020 07:03:19 : [DEBUG] bash ./DetectLinuxDistro.sh executed successfully in 11.2 seconds.
02/08/2020 07:03:19 : [DEBUG] Set $fdisk > fdisk for REDHAT
02/08/2020 07:03:19 : [INFO ] Linux distro detected: REDHAT
02/08/2020 07:03:19 : [INFO ] Run test case against the target machine ...
02/08/2020 07:06:45 : [INFO ] Delete deployed target machine ...
02/08/2020 07:06:45 : [INFO ] Try to delete resource group LISAv2-OneVM-walaautol2181-XR54-20200207225346...
02/08/2020 07:06:45 : [INFO ] Checking if LISAv2-OneVM-walaautol2181-XR54-20200207225346 exists...
02/08/2020 07:06:48 : [INFO ] Triggering delete operation for Resource Group LISAv2-OneVM-walaautol2181-XR54-20200207225346
02/08/2020 07:06:48 : [INFO ] Checking for any unmanaged disks in LISAv2-OneVM-walaautol2181-XR54-20200207225346 ...
02/08/2020 07:06:50 : [INFO ] No any unmanaged VHDs found. Proceeding resource group cleanup.
02/08/2020 07:06:51 : [INFO ] Retrying 'Remove-AzResourceGroup -ResourceGroupName LISAv2-OneVM-walaautol2181-XR54-20200207225346'. Remaining attempts : 9
02/08/2020 07:06:56 : [INFO ] Retrying 'Remove-AzResourceGroup -ResourceGroupName LISAv2-OneVM-walaautol2181-XR54-20200207225346'. Remaining attempts : 8
02/08/2020 07:07:01 : [INFO ] Successfully triggered delete operation for Resource Group LISAv2-OneVM-walaautol2181-XR54-20200207225346
02/08/2020 07:07:01 : [INFO ] Successfully started clean up for RG LISAv2-OneVM-walaautol2181-XR54-20200207225346..
02/08/2020 07:07:01 : [INFO ] STORAGE-HOT-ADD-DISK-PARALLEL ended running with status: ABORTED.
02/08/2020 07:07:01 : [INFO ] Cleanup test environment if required ...
02/08/2020 07:07:01 : [INFO ] Test XR54 finished
02/08/2020 07:07:01 : [INFO ] 
[LISAv2 Test Results Summary]
Test Run On           : 02/08/2020 06:53:07
VHD Under Test        : https://walaautol2.blob.core.windows.net/vhds/RHEL-7.8-20200208.n.0.vhd
Override VM size      : Standard_A5
Test Category         : Functional
Initial Kernel Version: 3.10.0-1126.el7.x86_64
Final Kernel Version  : 3.10.0-1126.el7.x86_64
Total Test Cases      : 1 (0 Passed, 0 Failed, 1 Aborted, 0 Skipped)
Total Time (dd:hh:mm) : 0:0:13

   ID TestArea             TestCaseName                                                                TestResult TestDuration(in minutes) 
-------------------------------------------------------------------------------------------------------------------------------------------
    1 STORAGE              STORAGE-HOT-ADD-DISK-PARALLEL                                                  ABORTED                 3.44 


Logs can be found at E:\LISAv2\XR54\TestResults\2020-07-02-22-52-33-7908


02/08/2020 07:07:01 : [DEBUG] Creating 'E:\LISAv2\XR54\Azure-XR54-TestLogs.zip' from 'E:\LISAv2\XR54\TestResults\2020-07-02-22-52-33-7908'
02/08/2020 07:07:01 : [DEBUG] E:\LISAv2\XR54\Azure-XR54-TestLogs.zip created successfully.
02/08/2020 07:07:01 : [INFO ] Analyzing test results ...
02/08/2020 07:07:01 : [INFO ] Copying all files back to original working directory: E:\jenkins\workspace\Azure-compose-pipeline-lisav2-nightly-181\LISAv2.
